\doxysection{Cliente\+Socket Class Reference}
\hypertarget{classClienteSocket}{}\label{classClienteSocket}\index{ClienteSocket@{ClienteSocket}}


Clase que representa al cliente en la arquitectura Cliente-\/\+Servidor.  




{\ttfamily \#include $<$cliente\+Socket.\+h$>$}



Collaboration diagram for Cliente\+Socket\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=172pt]{classClienteSocket__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classClienteSocket_aa234d51ec027c0bc8c69b2c7cadd70da}{Cliente\+Socket}} ()
\begin{DoxyCompactList}\small\item\em Constructor. Inicializa las variables en un estado seguro/nulo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classClienteSocket_aeac5e46455422745f66b87a63a5ee6ae}{\texorpdfstring{$\sim$}{\string~}\+Cliente\+Socket}} ()
\begin{DoxyCompactList}\small\item\em Destructor. Se asegura de cerrar la conexión si el objeto se destruye. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classClienteSocket_ad217d24fed0bd7eeb015fc7d990da5d1}{crear}} ()
\begin{DoxyCompactList}\small\item\em Solicita al Sistema Operativo la creación de un endpoint de comunicación. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classClienteSocket_a13ae48df54e6f284951e57fcebf55069}{conectar}} (const char \texorpdfstring{$\ast$}{*}ip, int puerto)
\begin{DoxyCompactList}\small\item\em Intenta establecer el "{}\+Túnel"{} (TCP) con el servidor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classClienteSocket_a05d91ad7f4dc849feb1b3ed814287d64}{enviar}} (const char \texorpdfstring{$\ast$}{*}mensaje)
\begin{DoxyCompactList}\small\item\em Envía datos a través del túnel. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classClienteSocket_a343c2d9d87d3d7d16bf8c45c92c92590}{recibir}} ()
\begin{DoxyCompactList}\small\item\em Espera y captura datos provenientes del servidor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classClienteSocket_aad293836c4e0c552460dfe1f07667d39}{cerrar}} ()
\begin{DoxyCompactList}\small\item\em Cierra ordenadamente la conexión. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classClienteSocket_ae37d2197cd19c7e7928730d05ba913ae}{cliente\+Socket}}
\begin{DoxyCompactList}\small\item\em Descriptor de archivo del socket. \end{DoxyCompactList}\item 
sockaddr\+\_\+in \mbox{\hyperlink{classClienteSocket_a0e5a006feddbe6eecf92f4e4df86b183}{server\+Addr}}
\begin{DoxyCompactList}\small\item\em Estructura de datos para IPv4. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Clase que representa al cliente en la arquitectura Cliente-\/\+Servidor. 


\begin{DoxyItemize}
\item Su función principal es iniciar la comunicación, mantener el descriptor de archivo del socket y convertir los mensajes de texto de C++ en paquetes de bytes para la red. 
\end{DoxyItemize}

\label{doc-constructors}
\Hypertarget{classClienteSocket_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classClienteSocket_aa234d51ec027c0bc8c69b2c7cadd70da}\index{ClienteSocket@{ClienteSocket}!ClienteSocket@{ClienteSocket}}
\index{ClienteSocket@{ClienteSocket}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{ClienteSocket()}{ClienteSocket()}}
{\footnotesize\ttfamily \label{classClienteSocket_aa234d51ec027c0bc8c69b2c7cadd70da} 
Cliente\+Socket\+::\+Cliente\+Socket (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Constructor. Inicializa las variables en un estado seguro/nulo. 

Constructor.


\begin{DoxyItemize}
\item Inicializa el descriptor del socket en -\/1 para indicar que está "{}vacío"{} o "{}no asignado"{}. Esto evita que intentemos cerrar o usar un socket basura por accidente. 
\end{DoxyItemize}\Hypertarget{classClienteSocket_aeac5e46455422745f66b87a63a5ee6ae}\index{ClienteSocket@{ClienteSocket}!````~ClienteSocket@{\texorpdfstring{$\sim$}{\string~}ClienteSocket}}
\index{````~ClienteSocket@{\texorpdfstring{$\sim$}{\string~}ClienteSocket}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}ClienteSocket()}{\string~ClienteSocket()}}
{\footnotesize\ttfamily \label{classClienteSocket_aeac5e46455422745f66b87a63a5ee6ae} 
Cliente\+Socket\+::\texorpdfstring{$\sim$}{\string~}\+Cliente\+Socket (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Destructor. Se asegura de cerrar la conexión si el objeto se destruye. 

Destructor.


\begin{DoxyItemize}
\item Implementa el principio RAII (Resource Acquisition Is Initialization) para evitar fugas de recursos.
\item Garantiza que, si el objeto \doxylink{classClienteSocket}{Cliente\+Socket} se destruye (ej. al cerrar la ventana), la conexión se cierre correctamente liberando recursos del sistema. 
\end{DoxyItemize}Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classClienteSocket_aeac5e46455422745f66b87a63a5ee6ae_cgraph}
\end{center}
\end{figure}


\label{doc-func-members}
\Hypertarget{classClienteSocket_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classClienteSocket_aad293836c4e0c552460dfe1f07667d39}\index{ClienteSocket@{ClienteSocket}!cerrar@{cerrar}}
\index{cerrar@{cerrar}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{cerrar()}{cerrar()}}
{\footnotesize\ttfamily \label{classClienteSocket_aad293836c4e0c552460dfe1f07667d39} 
void Cliente\+Socket\+::cerrar (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Cierra ordenadamente la conexión. 

Cierra el descriptor de archivo.


\begin{DoxyItemize}
\item Envía un paquete FIN para terminar el handshake TCP y libera el descriptor.
\item Libera el puerto y la memoria en el Kernel. 
\end{DoxyItemize}Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classClienteSocket_aad293836c4e0c552460dfe1f07667d39_icgraph}
\end{center}
\end{figure}
\Hypertarget{classClienteSocket_a13ae48df54e6f284951e57fcebf55069}\index{ClienteSocket@{ClienteSocket}!conectar@{conectar}}
\index{conectar@{conectar}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{conectar()}{conectar()}}
{\footnotesize\ttfamily \label{classClienteSocket_a13ae48df54e6f284951e57fcebf55069} 
bool Cliente\+Socket\+::conectar (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{ip}{, }\item[{int}]{puerto}{}\end{DoxyParamCaption})}



Intenta establecer el "{}\+Túnel"{} (TCP) con el servidor. 

Establece la conexión física/lógica con el servidor.


\begin{DoxyItemize}
\item Utiliza la syscall \textquotesingle{}connect()\textquotesingle{}. Es una operación bloqueante por defecto. 
\begin{DoxyParams}{Parameters}
{\em ip} & Dirección IP del servidor (ej. "{}127.\+0.\+0.\+1"{}). \\
\hline
{\em puerto} & Puerto de escucha del servidor (ej. 8080). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true si el servidor aceptó la conexión.
\end{DoxyReturn}

\item Convierte la IP de texto a binario. 
\end{DoxyItemize}Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{classClienteSocket_a13ae48df54e6f284951e57fcebf55069_icgraph}
\end{center}
\end{figure}
\Hypertarget{classClienteSocket_ad217d24fed0bd7eeb015fc7d990da5d1}\index{ClienteSocket@{ClienteSocket}!crear@{crear}}
\index{crear@{crear}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{crear()}{crear()}}
{\footnotesize\ttfamily \label{classClienteSocket_ad217d24fed0bd7eeb015fc7d990da5d1} 
bool Cliente\+Socket\+::crear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Solicita al Sistema Operativo la creación de un endpoint de comunicación. 

Solicita un socket al Kernel.


\begin{DoxyItemize}
\item Utiliza la syscall \textquotesingle{}socket()\textquotesingle{}. \begin{DoxyReturn}{Returns}
true si el SO nos asignó un ID de socket válido, false si falló.
\end{DoxyReturn}

\item AF\+\_\+\+INET\+: Indica que usaremos IPv4.
\item SOCK\+\_\+\+STREAM\+: Indica que usaremos TCP (protocolo fiable, ordenado, con conexión).
\item 0\+: Protocolo IP automático. 
\end{DoxyItemize}Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{classClienteSocket_ad217d24fed0bd7eeb015fc7d990da5d1_icgraph}
\end{center}
\end{figure}
\Hypertarget{classClienteSocket_a05d91ad7f4dc849feb1b3ed814287d64}\index{ClienteSocket@{ClienteSocket}!enviar@{enviar}}
\index{enviar@{enviar}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{enviar()}{enviar()}}
{\footnotesize\ttfamily \label{classClienteSocket_a05d91ad7f4dc849feb1b3ed814287d64} 
void Cliente\+Socket\+::enviar (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{mensaje}{}\end{DoxyParamCaption})}



Envía datos a través del túnel. 

Envía bytes crudos al servidor.


\begin{DoxyItemize}
\item Serializa el texto y lo empuja al buffer de salida de la tarjeta de red. 
\begin{DoxyParams}{Parameters}
{\em mensaje} & El texto crudo (string) a enviar.\\
\hline
\end{DoxyParams}

\item Utiliza \textquotesingle{}send\textquotesingle{} en lugar de \textquotesingle{}write\textquotesingle{} porque es específico para sockets. 
\begin{DoxyParams}{Parameters}
{\em mensaje} & Cadena de caracteres estilo C. \\
\hline
\end{DoxyParams}

\end{DoxyItemize}Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=263pt]{classClienteSocket_a05d91ad7f4dc849feb1b3ed814287d64_icgraph}
\end{center}
\end{figure}
\Hypertarget{classClienteSocket_a343c2d9d87d3d7d16bf8c45c92c92590}\index{ClienteSocket@{ClienteSocket}!recibir@{recibir}}
\index{recibir@{recibir}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{recibir()}{recibir()}}
{\footnotesize\ttfamily \label{classClienteSocket_a343c2d9d87d3d7d16bf8c45c92c92590} 
std\+::string Cliente\+Socket\+::recibir (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Espera y captura datos provenientes del servidor. 

Escucha y captura la respuesta del servidor.


\begin{DoxyItemize}
\item Lee el buffer de entrada de la tarjeta de red. \begin{DoxyReturn}{Returns}
std\+::string El mensaje reconstruido como objeto string de C++.
\end{DoxyReturn}

\item Esta función es BLOQUEANTE por defecto (espera hasta que llegue algo). 
\end{DoxyItemize}Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classClienteSocket_a343c2d9d87d3d7d16bf8c45c92c92590_icgraph}
\end{center}
\end{figure}


\label{doc-variable-members}
\Hypertarget{classClienteSocket_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{classClienteSocket_ae37d2197cd19c7e7928730d05ba913ae}\index{ClienteSocket@{ClienteSocket}!clienteSocket@{clienteSocket}}
\index{clienteSocket@{clienteSocket}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{clienteSocket}{clienteSocket}}
{\footnotesize\ttfamily \label{classClienteSocket_ae37d2197cd19c7e7928730d05ba913ae} 
int Cliente\+Socket\+::cliente\+Socket\hspace{0.3cm}{\ttfamily [private]}}



Descriptor de archivo del socket. 


\begin{DoxyItemize}
\item En Linux, todo es un archivo. El socket se identifica con un simple número entero (int). Si es -\/1, significa que el socket no es válido o hubo error. 
\end{DoxyItemize}\Hypertarget{classClienteSocket_a0e5a006feddbe6eecf92f4e4df86b183}\index{ClienteSocket@{ClienteSocket}!serverAddr@{serverAddr}}
\index{serverAddr@{serverAddr}!ClienteSocket@{ClienteSocket}}
\doxysubsubsection{\texorpdfstring{serverAddr}{serverAddr}}
{\footnotesize\ttfamily \label{classClienteSocket_a0e5a006feddbe6eecf92f4e4df86b183} 
sockaddr\+\_\+in Cliente\+Socket\+::server\+Addr\hspace{0.3cm}{\ttfamily [private]}}



Estructura de datos para IPv4. 


\begin{DoxyItemize}
\item Contiene la Familia (AF\+\_\+\+INET), el Puerto (htons) y la Dirección IP (inet\+\_\+addr) del servidor al que nos queremos conectar. 
\end{DoxyItemize}

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{clienteSocket_8h}{cliente\+Socket.\+h}}\item 
src/\mbox{\hyperlink{clienteSocket_8cpp}{cliente\+Socket.\+cpp}}\end{DoxyCompactItemize}
