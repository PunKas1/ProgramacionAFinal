<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chat Soporte Tecnico: ServerSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Chat Soporte Tecnico<span id="projectnumber">&#160;Version Final 1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classServerSocket.html','','classServerSocket-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">ServerSocket Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Clase administradora del servidor concurrente.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="socket_8h_source.html">socket.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ServerSocket:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket__coll__graph.png" border="0" usemap="#aServerSocket_coll__map" loading="lazy" alt="Collaboration graph"/></div>
<map name="aServerSocket_coll__map" id="aServerSocket_coll__map">
<area shape="rect" title="Clase administradora del servidor concurrente." alt="" coords="5,5,187,416"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2b3098589541243241ca25495155186c" id="r_a2b3098589541243241ca25495155186c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b3098589541243241ca25495155186c">ServerSocket</a> ()</td></tr>
<tr class="memdesc:a2b3098589541243241ca25495155186c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. Inicializa el servidor en estado "apagado" y contadores en 0.  <br /></td></tr>
<tr class="memitem:a510674d924c2544e6b0069e39c36516b" id="r_a510674d924c2544e6b0069e39c36516b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a510674d924c2544e6b0069e39c36516b">~ServerSocket</a> ()</td></tr>
<tr class="memdesc:a510674d924c2544e6b0069e39c36516b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Cierra el socket principal para liberar el puerto del SO.  <br /></td></tr>
<tr class="memitem:aed4f954cffee07ff80d8ce540ba8cefb" id="r_aed4f954cffee07ff80d8ce540ba8cefb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed4f954cffee07ff80d8ce540ba8cefb">crear</a> ()</td></tr>
<tr class="memdesc:aed4f954cffee07ff80d8ce540ba8cefb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crea el socket del servidor usando la syscall socket().  <br /></td></tr>
<tr class="memitem:ad5cac02fb407df331c377d7cfb2731be" id="r_ad5cac02fb407df331c377d7cfb2731be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5cac02fb407df331c377d7cfb2731be">configurar</a> (const char *ip, int puerto)</td></tr>
<tr class="memdesc:ad5cac02fb407df331c377d7cfb2731be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configura la estructura sockaddr_in con la IP y Puerto deseados.  <br /></td></tr>
<tr class="memitem:a1a9dac66adae3be62dc422d16dd07fec" id="r_a1a9dac66adae3be62dc422d16dd07fec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a9dac66adae3be62dc422d16dd07fec">bindear</a> ()</td></tr>
<tr class="memdesc:a1a9dac66adae3be62dc422d16dd07fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vincula el socket a la dirección IP/Puerto en el Sistema Operativo.  <br /></td></tr>
<tr class="memitem:a9312853ed94ee2ff0a9bcc9b19fdaf08" id="r_a9312853ed94ee2ff0a9bcc9b19fdaf08"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9312853ed94ee2ff0a9bcc9b19fdaf08">escuchar</a> (int espera=5)</td></tr>
<tr class="memdesc:a9312853ed94ee2ff0a9bcc9b19fdaf08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pone al socket en modo pasivo para escuchar conexiones.  <br /></td></tr>
<tr class="memitem:aa3909d8893c14aa0c1498312af89adc1" id="r_aa3909d8893c14aa0c1498312af89adc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3909d8893c14aa0c1498312af89adc1">aceptarClientes</a> ()</td></tr>
<tr class="memdesc:aa3909d8893c14aa0c1498312af89adc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bucle infinito (para correr en un hilo aparte) que acepta conexiones.  <br /></td></tr>
<tr class="memitem:a54e233b0852ed5cd338af48353f4868b" id="r_a54e233b0852ed5cd338af48353f4868b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54e233b0852ed5cd338af48353f4868b">tomarSiguienteCliente</a> ()</td></tr>
<tr class="memdesc:a54e233b0852ed5cd338af48353f4868b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extrae al siguiente cliente de la cola y lo marca como activo.  <br /></td></tr>
<tr class="memitem:aa2caeb9ab043b2f1f86dd7deeaefa28a" id="r_aa2caeb9ab043b2f1f86dd7deeaefa28a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2caeb9ab043b2f1f86dd7deeaefa28a">obtenerNombrePorSocket</a> (int socket)</td></tr>
<tr class="memdesc:aa2caeb9ab043b2f1f86dd7deeaefa28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Busca en el vector listaClientes el nombre asociado a un socket.  <br /></td></tr>
<tr class="memitem:a882e25aade6e7c1be34dca9c48340728" id="r_a882e25aade6e7c1be34dca9c48340728"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a882e25aade6e7c1be34dca9c48340728">recibir</a> ()</td></tr>
<tr class="memdesc:a882e25aade6e7c1be34dca9c48340728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recibe datos del cliente que está siendo atendido ACTUALMENTE.  <br /></td></tr>
<tr class="memitem:a83e5e2a03d21e3e383a3e67aa3e4a8fc" id="r_a83e5e2a03d21e3e383a3e67aa3e4a8fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83e5e2a03d21e3e383a3e67aa3e4a8fc">enviar</a> (const std::string &amp;msg)</td></tr>
<tr class="memdesc:a83e5e2a03d21e3e383a3e67aa3e4a8fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envía datos al cliente que está siendo atendido ACTUALMENTE.  <br /></td></tr>
<tr class="memitem:adbaa6db4d33a8630023710499f126cb4" id="r_adbaa6db4d33a8630023710499f126cb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adbaa6db4d33a8630023710499f126cb4">cerrarCliente</a> ()</td></tr>
<tr class="memdesc:adbaa6db4d33a8630023710499f126cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cierra la conexión con un cliente específico.  <br /></td></tr>
<tr class="memitem:a5c51707d83e73df462c3095c00f69d60" id="r_a5c51707d83e73df462c3095c00f69d60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c51707d83e73df462c3095c00f69d60">cerrarServidor</a> ()</td></tr>
<tr class="memdesc:a5c51707d83e73df462c3095c00f69d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apaga todo el servidor.  <br /></td></tr>
<tr class="memitem:a1cad4604560488599b66eebe8d590682" id="r_a1cad4604560488599b66eebe8d590682"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cad4604560488599b66eebe8d590682">getClienteActual</a> ()</td></tr>
<tr class="memdesc:a1cad4604560488599b66eebe8d590682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter para obtener el ID del socket activo.  <br /></td></tr>
<tr class="memitem:a4659d477cc4d9140064cdaf33c57d3c4" id="r_a4659d477cc4d9140064cdaf33c57d3c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4659d477cc4d9140064cdaf33c57d3c4">hayClientesEnCola</a> ()</td></tr>
<tr class="memdesc:a4659d477cc4d9140064cdaf33c57d3c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifica si hay personas esperando en la fila.  <br /></td></tr>
<tr class="memitem:a45a66da337baf176de70f6a054bfa74d" id="r_a45a66da337baf176de70f6a054bfa74d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45a66da337baf176de70f6a054bfa74d">estoyAtendiendo</a> ()</td></tr>
<tr class="memdesc:a45a66da337baf176de70f6a054bfa74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifica si el agente está ocupado.  <br /></td></tr>
<tr class="memitem:a26559e98b94c989b0011a096d06a163b" id="r_a26559e98b94c989b0011a096d06a163b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26559e98b94c989b0011a096d06a163b">liberarClienteActual</a> ()</td></tr>
<tr class="memdesc:a26559e98b94c989b0011a096d06a163b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resetea el estado del agente a "Libre".  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af71f918ccba38573d9b3533fc07e28bb" id="r_af71f918ccba38573d9b3533fc07e28bb"><td class="memItemLeft" align="right" valign="top">std::queue&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af71f918ccba38573d9b3533fc07e28bb">colaClientes</a></td></tr>
<tr class="memdesc:af71f918ccba38573d9b3533fc07e28bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cola de espera "First-In, First-Out" (FIFO).  <br /></td></tr>
<tr class="memitem:acdbcfe4963922584211482b08022c85b" id="r_acdbcfe4963922584211482b08022c85b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structInfoCliente.html">InfoCliente</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdbcfe4963922584211482b08022c85b">listaClientes</a></td></tr>
<tr class="memdesc:acdbcfe4963922584211482b08022c85b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base de datos en memoria de todos los conectados.  <br /></td></tr>
<tr class="memitem:abefc51098ff2728273fd66cb9c479b5e" id="r_abefc51098ff2728273fd66cb9c479b5e"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abefc51098ff2728273fd66cb9c479b5e">mtxCola</a></td></tr>
<tr class="memdesc:abefc51098ff2728273fd66cb9c479b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex para proteger la cola de condiciones de carrera.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7dcc428768812210c5e00abbd68cd9cc" id="r_a7dcc428768812210c5e00abbd68cd9cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dcc428768812210c5e00abbd68cd9cc">serverSocket</a></td></tr>
<tr class="memdesc:a7dcc428768812210c5e00abbd68cd9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descriptor del socket principal que escucha ("El Oído").  <br /></td></tr>
<tr class="memitem:a2183a4115ebb3e3bc13fa0f8c35c43f3" id="r_a2183a4115ebb3e3bc13fa0f8c35c43f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2183a4115ebb3e3bc13fa0f8c35c43f3">clienteActual</a></td></tr>
<tr class="memdesc:a2183a4115ebb3e3bc13fa0f8c35c43f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Socket del cliente que está siendo atendido actualmente (-1 si libre).  <br /></td></tr>
<tr class="memitem:a0c3362cb3371c5b521ec51e068ef408d" id="r_a0c3362cb3371c5b521ec51e068ef408d"><td class="memItemLeft" align="right" valign="top">sockaddr_in&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c3362cb3371c5b521ec51e068ef408d">serverAddr</a></td></tr>
<tr class="memdesc:a0c3362cb3371c5b521ec51e068ef408d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuración de red (IP/Puerto).  <br /></td></tr>
<tr class="memitem:a4772fc6ab28c449777b8811074ecd56c" id="r_a4772fc6ab28c449777b8811074ecd56c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4772fc6ab28c449777b8811074ecd56c">contadorID</a></td></tr>
<tr class="memdesc:a4772fc6ab28c449777b8811074ecd56c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contador para generar IDs únicos (1, 2, 3...).  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Clase administradora del servidor concurrente. </p>
<ul>
<li>Responsabilidades:</li>
</ul>
<ol type="1">
<li>Escuchar conexiones entrantes en un puerto específico.</li>
<li>Gestionar la concurrencia mediante hilos (Acceptor Thread vs Main Thread).</li>
<li>Administrar la cola de espera (FIFO) para atención al cliente.</li>
<li>Mantener el registro de todos los clientes conectados. </li>
</ol>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2b3098589541243241ca25495155186c" name="a2b3098589541243241ca25495155186c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b3098589541243241ca25495155186c">&#9670;&#160;</a></span>ServerSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ServerSocket::ServerSocket </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. Inicializa el servidor en estado "apagado" y contadores en 0. </p>
<p>Constructor. Inicializa los descriptores en -1 (estado inválido). </p>

</div>
</div>
<a id="a510674d924c2544e6b0069e39c36516b" name="a510674d924c2544e6b0069e39c36516b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a510674d924c2544e6b0069e39c36516b">&#9670;&#160;</a></span>~ServerSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ServerSocket::~ServerSocket </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. Cierra el socket principal para liberar el puerto del SO. </p>
<p>Destructor. Llama a <a class="el" href="#a5c51707d83e73df462c3095c00f69d60" title="Apaga todo el servidor.">cerrarServidor()</a> para asegurar limpieza de recursos. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a510674d924c2544e6b0069e39c36516b_cgraph.png" border="0" usemap="#aclassServerSocket_a510674d924c2544e6b0069e39c36516b_cgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a510674d924c2544e6b0069e39c36516b_cgraph" id="aclassServerSocket_a510674d924c2544e6b0069e39c36516b_cgraph">
<area shape="rect" title="Destructor. Cierra el socket principal para liberar el puerto del SO." alt="" coords="5,5,201,32"/>
<area shape="rect" href="classServerSocket.html#a5c51707d83e73df462c3095c00f69d60" title="Apaga todo el servidor." alt="" coords="249,5,438,32"/>
<area shape="poly" title=" " alt="" coords="201,16,233,16,233,21,201,21"/>
<area shape="rect" href="classServerSocket.html#adbaa6db4d33a8630023710499f126cb4" title="Cierra la conexión con un cliente específico." alt="" coords="486,5,668,32"/>
<area shape="poly" title=" " alt="" coords="438,16,470,16,470,21,438,21"/>
</map>
</div>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="aa3909d8893c14aa0c1498312af89adc1" name="aa3909d8893c14aa0c1498312af89adc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3909d8893c14aa0c1498312af89adc1">&#9670;&#160;</a></span>aceptarClientes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerSocket::aceptarClientes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bucle infinito (para correr en un hilo aparte) que acepta conexiones. </p>
<p>Bucle infinito que corre en un hilo secundario (Background).</p>
<ul>
<li>Cuando llega alguien, lo registra, lo mete a la cola y le envía señal de espera.</li>
<li>Thread-Safe: Usa mtxCola al modificar la cola.</li>
<li>Su única tarea es esperar a que alguien se conecte y meterlo a la cola.</li>
<li>CRÍTICO: Usa Mutex para proteger el acceso a 'colaClientes' y 'listaClientes'. </li>
</ul>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_aa3909d8893c14aa0c1498312af89adc1_icgraph.png" border="0" usemap="#aclassServerSocket_aa3909d8893c14aa0c1498312af89adc1_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_aa3909d8893c14aa0c1498312af89adc1_icgraph" id="aclassServerSocket_aa3909d8893c14aa0c1498312af89adc1_icgraph">
<area shape="rect" title="Bucle infinito (para correr en un hilo aparte) que acepta conexiones." alt="" coords="103,5,302,32"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a1a9dac66adae3be62dc422d16dd07fec" name="a1a9dac66adae3be62dc422d16dd07fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a9dac66adae3be62dc422d16dd07fec">&#9670;&#160;</a></span>bindear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerSocket::bindear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vincula el socket a la dirección IP/Puerto en el Sistema Operativo. </p>
<p>"Amarra" el socket a un puerto específico de la máquina.</p>
<ul>
<li>Utiliza la syscall bind(). Si falla, usualmente es porque el puerto está ocupado.</li>
<li>Nota técnica: Se usa '::bind' (con dos puntos) para decirle al compilador que use la función bind() original de C (global) y no std::bind de C++. </li>
</ul>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a1a9dac66adae3be62dc422d16dd07fec_icgraph.png" border="0" usemap="#aclassServerSocket_a1a9dac66adae3be62dc422d16dd07fec_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a1a9dac66adae3be62dc422d16dd07fec_icgraph" id="aclassServerSocket_a1a9dac66adae3be62dc422d16dd07fec_icgraph">
<area shape="rect" title="Vincula el socket a la dirección IP/Puerto en el Sistema Operativo." alt="" coords="103,5,253,32"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="adbaa6db4d33a8630023710499f126cb4" name="adbaa6db4d33a8630023710499f126cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbaa6db4d33a8630023710499f126cb4">&#9670;&#160;</a></span>cerrarCliente()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerSocket::cerrarCliente </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cierra la conexión con un cliente específico. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_adbaa6db4d33a8630023710499f126cb4_icgraph.png" border="0" usemap="#aclassServerSocket_adbaa6db4d33a8630023710499f126cb4_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_adbaa6db4d33a8630023710499f126cb4_icgraph" id="aclassServerSocket_adbaa6db4d33a8630023710499f126cb4_icgraph">
<area shape="rect" title="Cierra la conexión con un cliente específico." alt="" coords="486,5,668,32"/>
<area shape="rect" href="classServerSocket.html#a5c51707d83e73df462c3095c00f69d60" title="Apaga todo el servidor." alt="" coords="249,5,438,32"/>
<area shape="poly" title=" " alt="" coords="471,21,439,21,439,16,471,16"/>
<area shape="rect" href="classServerSocket.html#a510674d924c2544e6b0069e39c36516b" title="Destructor. Cierra el socket principal para liberar el puerto del SO." alt="" coords="5,5,201,32"/>
<area shape="poly" title=" " alt="" coords="233,21,201,21,201,16,233,16"/>
</map>
</div>

</div>
</div>
<a id="a5c51707d83e73df462c3095c00f69d60" name="a5c51707d83e73df462c3095c00f69d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c51707d83e73df462c3095c00f69d60">&#9670;&#160;</a></span>cerrarServidor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerSocket::cerrarServidor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apaga todo el servidor. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a5c51707d83e73df462c3095c00f69d60_cgraph.png" border="0" usemap="#aclassServerSocket_a5c51707d83e73df462c3095c00f69d60_cgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a5c51707d83e73df462c3095c00f69d60_cgraph" id="aclassServerSocket_a5c51707d83e73df462c3095c00f69d60_cgraph">
<area shape="rect" title="Apaga todo el servidor." alt="" coords="5,5,195,32"/>
<area shape="rect" href="classServerSocket.html#adbaa6db4d33a8630023710499f126cb4" title="Cierra la conexión con un cliente específico." alt="" coords="243,5,425,32"/>
<area shape="poly" title=" " alt="" coords="195,16,227,16,227,21,195,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a5c51707d83e73df462c3095c00f69d60_icgraph.png" border="0" usemap="#aclassServerSocket_a5c51707d83e73df462c3095c00f69d60_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a5c51707d83e73df462c3095c00f69d60_icgraph" id="aclassServerSocket_a5c51707d83e73df462c3095c00f69d60_icgraph">
<area shape="rect" title="Apaga todo el servidor." alt="" coords="249,5,438,32"/>
<area shape="rect" href="classServerSocket.html#a510674d924c2544e6b0069e39c36516b" title="Destructor. Cierra el socket principal para liberar el puerto del SO." alt="" coords="5,5,201,32"/>
<area shape="poly" title=" " alt="" coords="233,21,201,21,201,16,233,16"/>
</map>
</div>

</div>
</div>
<a id="ad5cac02fb407df331c377d7cfb2731be" name="ad5cac02fb407df331c377d7cfb2731be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5cac02fb407df331c377d7cfb2731be">&#9670;&#160;</a></span>configurar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerSocket::configurar </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>puerto</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configura la estructura sockaddr_in con la IP y Puerto deseados. </p>
<p>Prepara la estructura de dirección.</p>
<ul>
<li>Utiliza htons y inet_pton para asegurar que los datos sean legibles por la red (Big Endian). </li>
</ul>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_ad5cac02fb407df331c377d7cfb2731be_icgraph.png" border="0" usemap="#aclassServerSocket_ad5cac02fb407df331c377d7cfb2731be_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_ad5cac02fb407df331c377d7cfb2731be_icgraph" id="aclassServerSocket_ad5cac02fb407df331c377d7cfb2731be_icgraph">
<area shape="rect" title="Configura la estructura sockaddr_in con la IP y Puerto deseados." alt="" coords="103,5,268,32"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="aed4f954cffee07ff80d8ce540ba8cefb" name="aed4f954cffee07ff80d8ce540ba8cefb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed4f954cffee07ff80d8ce540ba8cefb">&#9670;&#160;</a></span>crear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerSocket::crear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crea el socket del servidor usando la syscall socket(). </p>
<p>Solicita un socket maestro al Kernel.</p>
<dl class="section return"><dt>Returns</dt><dd>true si se creó el descriptor correctamente.</dd></dl>
<ul>
<li>AF_INET: IPv4.</li>
<li>SOCK_STREAM: TCP (Orientado a conexión). </li>
</ul>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_aed4f954cffee07ff80d8ce540ba8cefb_icgraph.png" border="0" usemap="#aclassServerSocket_aed4f954cffee07ff80d8ce540ba8cefb_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_aed4f954cffee07ff80d8ce540ba8cefb_icgraph" id="aclassServerSocket_aed4f954cffee07ff80d8ce540ba8cefb_icgraph">
<area shape="rect" title="Crea el socket del servidor usando la syscall socket()." alt="" coords="103,5,240,32"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a83e5e2a03d21e3e383a3e67aa3e4a8fc" name="a83e5e2a03d21e3e383a3e67aa3e4a8fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e5e2a03d21e3e383a3e67aa3e4a8fc">&#9670;&#160;</a></span>enviar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerSocket::enviar </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envía datos al cliente que está siendo atendido ACTUALMENTE. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a83e5e2a03d21e3e383a3e67aa3e4a8fc_icgraph.png" border="0" usemap="#aclassServerSocket_a83e5e2a03d21e3e383a3e67aa3e4a8fc_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a83e5e2a03d21e3e383a3e67aa3e4a8fc_icgraph" id="aclassServerSocket_a83e5e2a03d21e3e383a3e67aa3e4a8fc_icgraph">
<area shape="rect" title="Envía datos al cliente que está siendo atendido ACTUALMENTE." alt="" coords="103,5,246,32"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a9312853ed94ee2ff0a9bcc9b19fdaf08" name="a9312853ed94ee2ff0a9bcc9b19fdaf08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9312853ed94ee2ff0a9bcc9b19fdaf08">&#9670;&#160;</a></span>escuchar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerSocket::escuchar </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>espera</em></span><span class="paramdefsep"> = </span><span class="paramdefval">5</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pone al socket en modo pasivo para escuchar conexiones. </p>
<p>Pone el socket en modo pasivo (escucha).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">espera</td><td>Tamaño del backlog (cuántas conexiones pendientes admite el kernel).</td></tr>
    <tr><td class="paramname">espera</td><td>Longitud de la cola de conexiones pendientes del Kernel (Backlog). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a9312853ed94ee2ff0a9bcc9b19fdaf08_icgraph.png" border="0" usemap="#aclassServerSocket_a9312853ed94ee2ff0a9bcc9b19fdaf08_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a9312853ed94ee2ff0a9bcc9b19fdaf08_icgraph" id="aclassServerSocket_a9312853ed94ee2ff0a9bcc9b19fdaf08_icgraph">
<area shape="rect" title="Pone al socket en modo pasivo para escuchar conexiones." alt="" coords="103,5,264,32"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a45a66da337baf176de70f6a054bfa74d" name="a45a66da337baf176de70f6a054bfa74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a66da337baf176de70f6a054bfa74d">&#9670;&#160;</a></span>estoyAtendiendo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerSocket::estoyAtendiendo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifica si el agente está ocupado. </p>
<dl class="section return"><dt>Returns</dt><dd>true si clienteActual != -1. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a45a66da337baf176de70f6a054bfa74d_icgraph.png" border="0" usemap="#aclassServerSocket_a45a66da337baf176de70f6a054bfa74d_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a45a66da337baf176de70f6a054bfa74d_icgraph" id="aclassServerSocket_a45a66da337baf176de70f6a054bfa74d_icgraph">
<area shape="rect" title="Verifica si el agente está ocupado." alt="" coords="264,31,469,57"/>
<area shape="rect" href="main__server_8cpp.html#ad9d9b85a0d58433bb367fa045ae09f51" title="Función ejecutada por el Hilo Lector (Reader Thread)." alt="" coords="103,5,216,32"/>
<area shape="poly" title=" " alt="" coords="248,32,216,28,217,23,249,27"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="249,47,55,47,55,41,249,41"/>
<area shape="poly" title=" " alt="" coords="88,35,56,42,55,37,87,30"/>
</map>
</div>

</div>
</div>
<a id="a1cad4604560488599b66eebe8d590682" name="a1cad4604560488599b66eebe8d590682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cad4604560488599b66eebe8d590682">&#9670;&#160;</a></span>getClienteActual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ServerSocket::getClienteActual </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter para obtener el ID del socket activo. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a1cad4604560488599b66eebe8d590682_icgraph.png" border="0" usemap="#aclassServerSocket_a1cad4604560488599b66eebe8d590682_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a1cad4604560488599b66eebe8d590682_icgraph" id="aclassServerSocket_a1cad4604560488599b66eebe8d590682_icgraph">
<area shape="rect" title="Getter para obtener el ID del socket activo." alt="" coords="264,23,431,65"/>
<area shape="rect" href="main__server_8cpp.html#ad9d9b85a0d58433bb367fa045ae09f51" title="Función ejecutada por el Hilo Lector (Reader Thread)." alt="" coords="103,5,216,32"/>
<area shape="poly" title=" " alt="" coords="248,33,216,29,217,24,249,28"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="249,47,55,47,55,41,249,41"/>
<area shape="poly" title=" " alt="" coords="88,35,56,42,55,37,87,30"/>
</map>
</div>

</div>
</div>
<a id="a4659d477cc4d9140064cdaf33c57d3c4" name="a4659d477cc4d9140064cdaf33c57d3c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4659d477cc4d9140064cdaf33c57d3c4">&#9670;&#160;</a></span>hayClientesEnCola()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerSocket::hayClientesEnCola </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifica si hay personas esperando en la fila. </p>
<dl class="section return"><dt>Returns</dt><dd>true si la cola no está vacía. Thread-Safe. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a4659d477cc4d9140064cdaf33c57d3c4_icgraph.png" border="0" usemap="#aclassServerSocket_a4659d477cc4d9140064cdaf33c57d3c4_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a4659d477cc4d9140064cdaf33c57d3c4_icgraph" id="aclassServerSocket_a4659d477cc4d9140064cdaf33c57d3c4_icgraph">
<area shape="rect" title="Verifica si hay personas esperando en la fila." alt="" coords="103,5,280,48"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a26559e98b94c989b0011a096d06a163b" name="a26559e98b94c989b0011a096d06a163b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26559e98b94c989b0011a096d06a163b">&#9670;&#160;</a></span>liberarClienteActual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerSocket::liberarClienteActual </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resetea el estado del agente a "Libre". </p>
<ul>
<li>Se llama cuando el cliente actual se desconecta o termina la sesión. </li>
</ul>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a26559e98b94c989b0011a096d06a163b_icgraph.png" border="0" usemap="#aclassServerSocket_a26559e98b94c989b0011a096d06a163b_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a26559e98b94c989b0011a096d06a163b_icgraph" id="aclassServerSocket_a26559e98b94c989b0011a096d06a163b_icgraph">
<area shape="rect" title="Resetea el estado del agente a &quot;Libre&quot;." alt="" coords="264,5,448,48"/>
<area shape="rect" href="main__server_8cpp.html#ad9d9b85a0d58433bb367fa045ae09f51" title="Función ejecutada por el Hilo Lector (Reader Thread)." alt="" coords="103,13,216,40"/>
<area shape="poly" title=" " alt="" coords="248,29,216,29,216,24,248,24"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="aa2caeb9ab043b2f1f86dd7deeaefa28a" name="aa2caeb9ab043b2f1f86dd7deeaefa28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2caeb9ab043b2f1f86dd7deeaefa28a">&#9670;&#160;</a></span>obtenerNombrePorSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string ServerSocket::obtenerNombrePorSocket </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socketBuscado</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Busca en el vector listaClientes el nombre asociado a un socket. </p>
<p>Búsqueda lineal en el vector de clientes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>El ID del socket a buscar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>El nombre del cliente o "Desconocido".</dd></dl>
<ul>
<li>Itera sobre la listaClientes para encontrar el nombre asociado a un socket. </li>
</ul>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_aa2caeb9ab043b2f1f86dd7deeaefa28a_icgraph.png" border="0" usemap="#aclassServerSocket_aa2caeb9ab043b2f1f86dd7deeaefa28a_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_aa2caeb9ab043b2f1f86dd7deeaefa28a_icgraph" id="aclassServerSocket_aa2caeb9ab043b2f1f86dd7deeaefa28a_icgraph">
<area shape="rect" title="Busca en el vector listaClientes el nombre asociado a un socket." alt="" coords="346,48,543,91"/>
<area shape="rect" href="main__server_8cpp.html#ad9d9b85a0d58433bb367fa045ae09f51" title="Función ejecutada por el Hilo Lector (Reader Thread)." alt="" coords="144,5,257,32"/>
<area shape="poly" title=" " alt="" coords="330,48,257,33,258,28,331,43"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,56,55,83"/>
<area shape="poly" title=" " alt="" coords="331,72,55,72,55,67,331,67"/>
<area shape="rect" href="classServerSocket.html#a54e233b0852ed5cd338af48353f4868b" title="Extrae al siguiente cliente de la cola y lo marca como activo." alt="" coords="103,107,298,149"/>
<area shape="poly" title=" " alt="" coords="339,97,293,109,292,103,338,92"/>
<area shape="poly" title=" " alt="" coords="139,40,56,65,54,60,137,35"/>
<area shape="poly" title=" " alt="" coords="122,104,54,80,56,75,123,99"/>
</map>
</div>

</div>
</div>
<a id="a882e25aade6e7c1be34dca9c48340728" name="a882e25aade6e7c1be34dca9c48340728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882e25aade6e7c1be34dca9c48340728">&#9670;&#160;</a></span>recibir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string ServerSocket::recibir </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recibe datos del cliente que está siendo atendido ACTUALMENTE. </p>
<p>Lee datos del cliente actual.</p>
<ul>
<li>Usa memset para limpiar el buffer antes de leer, evitando basura de memoria. </li>
</ul>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a882e25aade6e7c1be34dca9c48340728_icgraph.png" border="0" usemap="#aclassServerSocket_a882e25aade6e7c1be34dca9c48340728_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a882e25aade6e7c1be34dca9c48340728_icgraph" id="aclassServerSocket_a882e25aade6e7c1be34dca9c48340728_icgraph">
<area shape="rect" title="Recibe datos del cliente que está siendo atendido ACTUALMENTE." alt="" coords="264,5,407,32"/>
<area shape="rect" href="main__server_8cpp.html#ad9d9b85a0d58433bb367fa045ae09f51" title="Función ejecutada por el Hilo Lector (Reader Thread)." alt="" coords="103,5,216,32"/>
<area shape="poly" title=" " alt="" coords="248,21,216,21,216,16,248,16"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a54e233b0852ed5cd338af48353f4868b" name="a54e233b0852ed5cd338af48353f4868b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e233b0852ed5cd338af48353f4868b">&#9670;&#160;</a></span>tomarSiguienteCliente()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerSocket::tomarSiguienteCliente </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extrae al siguiente cliente de la cola y lo marca como activo. </p>
<p>Saca al siguiente cliente de la cola y empieza la sesión.</p>
<ul>
<li>Thread-Safe: Usa mtxCola. <dl class="section return"><dt>Returns</dt><dd>true si había alguien en la cola y se pudo tomar, false si estaba vacía.</dd></dl>
</li>
<li>Esta función es llamada por el 'Main Loop'.</li>
<li>CRÍTICO: Usa Mutex porque modifica la misma cola que usa <a class="el" href="#aa3909d8893c14aa0c1498312af89adc1" title="Bucle infinito (para correr en un hilo aparte) que acepta conexiones.">aceptarClientes()</a>. </li>
</ul>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a54e233b0852ed5cd338af48353f4868b_cgraph.png" border="0" usemap="#aclassServerSocket_a54e233b0852ed5cd338af48353f4868b_cgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a54e233b0852ed5cd338af48353f4868b_cgraph" id="aclassServerSocket_a54e233b0852ed5cd338af48353f4868b_cgraph">
<area shape="rect" title="Extrae al siguiente cliente de la cola y lo marca como activo." alt="" coords="5,5,201,48"/>
<area shape="rect" href="classServerSocket.html#aa2caeb9ab043b2f1f86dd7deeaefa28a" title="Busca en el vector listaClientes el nombre asociado a un socket." alt="" coords="249,5,446,48"/>
<area shape="poly" title=" " alt="" coords="201,24,233,24,233,29,201,29"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classServerSocket_a54e233b0852ed5cd338af48353f4868b_icgraph.png" border="0" usemap="#aclassServerSocket_a54e233b0852ed5cd338af48353f4868b_icgraph" loading="lazy" alt=""/></div>
<map name="aclassServerSocket_a54e233b0852ed5cd338af48353f4868b_icgraph" id="aclassServerSocket_a54e233b0852ed5cd338af48353f4868b_icgraph">
<area shape="rect" title="Extrae al siguiente cliente de la cola y lo marca como activo." alt="" coords="103,5,298,48"/>
<area shape="rect" href="main__server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Hilo Principal (UI Thread)." alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a2183a4115ebb3e3bc13fa0f8c35c43f3" name="a2183a4115ebb3e3bc13fa0f8c35c43f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2183a4115ebb3e3bc13fa0f8c35c43f3">&#9670;&#160;</a></span>clienteActual</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ServerSocket::clienteActual</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Socket del cliente que está siendo atendido actualmente (-1 si libre). </p>

</div>
</div>
<a id="af71f918ccba38573d9b3533fc07e28bb" name="af71f918ccba38573d9b3533fc07e28bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71f918ccba38573d9b3533fc07e28bb">&#9670;&#160;</a></span>colaClientes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;int&gt; ServerSocket::colaClientes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cola de espera "First-In, First-Out" (FIFO). </p>
<ul>
<li>Almacena los sockets de los clientes que están esperando turno. Es pública para depuración, pero debería accederse con cuidado. </li>
</ul>

</div>
</div>
<a id="a4772fc6ab28c449777b8811074ecd56c" name="a4772fc6ab28c449777b8811074ecd56c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4772fc6ab28c449777b8811074ecd56c">&#9670;&#160;</a></span>contadorID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ServerSocket::contadorID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Contador para generar IDs únicos (1, 2, 3...). </p>

</div>
</div>
<a id="acdbcfe4963922584211482b08022c85b" name="acdbcfe4963922584211482b08022c85b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbcfe4963922584211482b08022c85b">&#9670;&#160;</a></span>listaClientes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structInfoCliente.html">InfoCliente</a>&gt; ServerSocket::listaClientes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base de datos en memoria de todos los conectados. </p>
<ul>
<li>Se usa para buscar el nombre de un cliente a partir de su socket. </li>
</ul>

</div>
</div>
<a id="abefc51098ff2728273fd66cb9c479b5e" name="abefc51098ff2728273fd66cb9c479b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abefc51098ff2728273fd66cb9c479b5e">&#9670;&#160;</a></span>mtxCola</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex ServerSocket::mtxCola</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mutex para proteger la cola de condiciones de carrera. </p>
<ul>
<li>Vital porque el Hilo Aceptador (background) mete gente a la cola y el Hilo Principal (Main) saca gente de la cola. Sin esto, el programa crashea. </li>
</ul>

</div>
</div>
<a id="a0c3362cb3371c5b521ec51e068ef408d" name="a0c3362cb3371c5b521ec51e068ef408d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c3362cb3371c5b521ec51e068ef408d">&#9670;&#160;</a></span>serverAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sockaddr_in ServerSocket::serverAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configuración de red (IP/Puerto). </p>

</div>
</div>
<a id="a7dcc428768812210c5e00abbd68cd9cc" name="a7dcc428768812210c5e00abbd68cd9cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dcc428768812210c5e00abbd68cd9cc">&#9670;&#160;</a></span>serverSocket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ServerSocket::serverSocket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Descriptor del socket principal que escucha ("El Oído"). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="socket_8h_source.html">socket.h</a></li>
<li>src/<a class="el" href="socket_8cpp.html">socket.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="classServerSocket.html">ServerSocket</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
